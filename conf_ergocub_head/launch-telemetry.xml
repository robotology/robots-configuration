<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE devices PUBLIC "-//YARP//DTD yarprobotinterface 3.0//EN" "http://www.yarp.it/DTD/yarprobotinterfaceV3.0.dtd">

<robot name="telemetry" build="1" xmlns:xi="http://www.w3.org/2001/XInclude">
    <!-- controlboards -->
    <device name="head_mc" type="remote_controlboard">
        <param name="remote"> /icub/head </param>
        <param name="local"> /telemetryDeviceDumper/head </param>
    </device>
 
    <device xmlns:xi="http://www.w3.org/2001/XInclude" name="telemetryDeviceDumper" type="telemetryDeviceDumper">
        <param name="axesNames">(neck-pitch,neck-roll)</param>
        <param name="logIEncoders">true</param>
        <param name="logITorqueControl">false</param>
        <param name="logIMotorEncoders">true</param>
        <param name="logIControlMode">true</param>
        <param name="logIInteractionMode">true</param>
        <param name="logIPidControl">true</param>
        <param name="logIAmplifierControl">true</param>
        <param name="saveBufferManagerConfiguration">true</param>
        <param name="experimentName">ergocub_head</param>
        <param name="path">/home/tumme/icub-tech-iit/telemtry_mc4plus/</param>
        <param name="n_samples">100000</param>
        <param name="save_periodically">true</param>
        <param name="save_period">120.0</param>
        <param name="data_threshold">300</param>
        <param name="auto_save">true</param>

        <action phase="startup" level="15" type="attach">
            <paramlist name="networks">
                <elem name="head">head_mc</elem>
            </paramlist>
        </action>
        
        <action phase="shutdown" level="2" type="detach" />

    </device>

</robot>
